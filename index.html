<canvas id="canvas" width="600" height="400"></canvas>

<script src="vector.js"></script>

<script>

    const points = [];
    const hull = []

    let leftMost;
    let currentVertex;
    let index;
    let nextVertex;

    window.onload = function (){
        canvas = document.getElementById("canvas");
        ctx = canvas.getContext("2d");

        for (var i = 0; i < 30; i++)
        {
            points.push(new Vector(Math.random()*canvas.width,Math.random()*canvas.height));
        }

        points.sort((a,b) => a.x - b.x);
        leftMost = points[0];
        currentVertex = leftMost;
        nextVertex = points[1];
        index = 2;

        var loop = setInterval(gameLoop, 1000/80);
    }

    gameLoop = function()
    {
        draw();
    }

    draw = function()
    {
        ctx.fillStyle = "black";
        ctx.fillRect(0,0,canvas.width,canvas.height);

        ctx.strokeStyle = "white";
        ctx.beginPath();
        ctx.moveTo(currentVertex.x,currentVertex.y);
        ctx.lineTo(nextVertex.x,nextVertex.y);
        ctx.stroke();

        let checking = points[index];
        ctx.strokeStyle = "lime";
        ctx.beginPath();
        ctx.moveTo(currentVertex.x,currentVertex.y);
        ctx.lineTo(checking.x,checking.y);
        ctx.stroke();

        ctx.fillStyle = "white";
        for(var i = 0; i < points.length; i++)
        {
            ctx.beginPath();
            ctx.arc(points[i].x,points[i].y,4,0,Math.PI * 2,true);
            ctx.fill();
        }

        ctx.fillStyle = "orange";
        ctx.beginPath();
        ctx.arc(leftMost.x,leftMost.y,6,0,Math.PI * 2,true);
        ctx.fill();
        
        ctx.fillStyle = "cyan";
        ctx.beginPath();
        ctx.arc(currentVertex.x,currentVertex.y,6,0,Math.PI * 2,true);
        ctx.fill();
    }

</script>